---
title: "Djangoでデフォルト数値型のid(主キー)からUUID型にする【データ移行】"
date: 2020-12-24T16:42:59+09:00
draft: true
thumbnail: "images/django.jpg"
categories: [ "web" ]
tags: [ "django","tips","PostgreSQL" ]
---


PostgreSQL等のDBサーバーで、1対多等のリレーションを組んだウェブアプリを作る時、Djangoのデフォルトの数値型のidではエラーが出てしまう。つまり、UUIDの使用は不可避。

しかし、既にデータがいくらか存在しているため、DB内のデータを全削除してUUIDにマイグレーションし直すのは不可能。困った。


こういう、数値型の主キーが割り当てられた既存データを保持したまま、UUID型の主キーに書き換える方法をここに記す。同じような事をやらかす場面は多々あるため、戒めのためにも。


## 主キーを数値型からUUID型へ移行する方法の流れ





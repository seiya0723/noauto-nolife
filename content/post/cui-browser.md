---
title: "【w3m】CUIで動くウェブブラウザの紹介【Lynx】"
date: 2018-10-04T11:28:01+09:00
draft: true
thumbnail: "images/20181004002.jpg"
categories: [ "others" ]
tags: [ "Ubuntu", "セキュリティ", "ブラウザ" ]
---

<p>一般的にウェブブラウザと言うとIEやFirefox、Chromeなどが主流で、どれもGUIで稼働するブラウザですが、一方でLinuxやUnixの端末上で稼働するCUIのウェブブラウザも存在しています。</p>

<p>一見、CUIで稼働するブラウザはGUIで稼働するブラウザと違って表示できる情報が少なく、レイアウトなども綺麗に表示されない問題がありますが、メリットも数多くあります。この記事ではCUIのウェブブラウザについて紹介します。</p>

<p>目次</p>
<ul>
<li><a href="#chapter1">CUIで稼働するウェブブラウザについて</a></li>
<li><a href="#chapter2">メリット</a></li>
<li><a href="#chapter3">デメリット</a></li>
<li><a href="#chapter4">Lynxについての紹介</a></li>
<li><a href="#chapter5">w3mについての紹介</a></li>

<p>ただし、セキュリティに強い点はあくまでも一般的なGUIのブラウザと比較した上での評価なので、CUIのブラウザを使用したからと言って絶対に安全であると考えないほうが懸命です。セキュリティ対策は何重にも施して初めて機能するものです。</p>


<h3>非常に軽量</h3>

<p>CUIで稼働するブラウザは一般的なブラウザとは違ってメモリの消費量が非常に少ないです。普通に使用していてGoogleChromeが1000MBほどメモリを専有するのに対して、CUIブラウザのひとつであるLynxではたったの5MB～10MBあたりで動いてくれます。</p>

<p>軽量なのはメモリだけでなく通信量も同様でHTMLのデータだけをダウンロードして表示しています。HTMLからリンクされているCSSやjavaScriptファイルにアクセスされないのです。Lynxにおいては、画像すらダウンロードされません。</p>

<p>ブラウザ本体のダウンロードサイズも非常に軽量です。CUIブラウザのひとつであるLinksはUbuntuSoftwareから1.3MBでダウンロード可能です。Chromeのオープンソース版であるChromiumは141.7MBもあります。CUIブラウザは数枚のフロッピーディスクでも保管できる一方で、一般的なブラウザはCD-ROMなどでないと保管できないのです。</p>

<p>メモリ、通信量、内部ストレージ。全てにおいて現行のGUIブラウザよりも軽量でインターネットのウェブサイトに接続できる。それがCUIブラウザのメリットです。</p>

<h3>非常に高速</h3>

<p>当然ですが、消費するメモリや内部ストレージに加え通信量まで軽量なので、表示速度は非常に高速です。HTMLだけをダウンロードして表示し、CSSやjavaScriptなどの余分なものをダウンロードしないようになっているので低速回線であっても快適に利用できます。もちろん消費するメモリも内部ストレージも少ないので低スペックマシンでも問題なく稼働できるのです。</p>

<p>無駄なjavaScriptやCSSコードが多く、画像や広告などのリンクまで大量にあるようなサイトであっても一瞬で表示されます。もっとも画像が主体のサイトであればCUIブラウザは役に立たないことが多いですが。</p>


<h3>節電対策や災害対策になる</h3>

<p>現在、日本各地で災害が発生しており、誰でも常に災害対策についてを考慮しておく必要があります。しかし、避難時に災害の情報を手に入れるためにはインターネットにアクセスして、災害情報を提供しているサイトのデータをダウンロードしてブラウザに表示させる必要があるのです。通信量だけでなく端末のバッテリーすら限られている避難時の環境下では、普通のGUIブラウザを使用してアクセスしているとすぐに利用不可能な状態になってしまいます。</p>

<p>そこで、メモリや通信量などが軽量でも動作できるCUIブラウザを活用することで、継続的に災害の情報を手に入れることができるのです。ただし、画像が表示されないので周辺の天候や被害状況の映像などを確認することができないデメリットもあります。そこで文字列による情報を中心に公開しているサイトをブックマークしておくと避難時の情報収集に便利になるでしょう。</p>

<h3>超低スペックマシンでも動く</h3>

<p>消費するメモリ、通信量、内部ストレージが少量なので大昔の超低スペックマシンでも問題なく動きます。古いハードウェアを動かしてインターネットに接続したいときにはCUIブラウザを活用すると良いでしょう。ただし、サポートされていない古いOSにはセキュリティホールが存在していることが多いので、インターネットに接続した時点でマルウェアやウイルスに感染してしまう恐れがあります。</p>

<h3>デスクトップがインストールされていないサーバーでも動く</h3>

<p>LinuxやUnixのサーバーはデスクトップ環境が用意されていないことが多く、基本的に端末からコマンドで操作することを前提に作られています。</p>

<p>しかし、Apacheのstatusモジュールの確認などはローカルホスト内でしかアクセスできません。これらのローカルホスト内でしかアクセスできない場所にアクセスするためにはサーバーにブラウザを導入する必要があります。その際、サーバーにGNOMEなどのデスクトップ環境を導入してGUIのブラウザをインストールするよりは、CUIブラウザをインストールする方が明らかに簡単です。</p>

<p>GUI環境をサーバーに導入するよりもディスク容量を削減できますし、セキュリティホールを増やす心配もほとんどないです。</p>


<h2 id="chapter3">デメリット</h2>

<p>デメリットを紹介します。主に操作性の問題や表示できる情報が少ないという点があります。</p>

<h3>画像の表示に問題がある</h3>

<p>先ほど説明したとおり、CUIブラウザでは画像が表示できないことが多いです。CUIブラウザにおいては画像は基本的に表示されないものだと覚えておくと良いでしょう。画像が表示されない代わりに、画像のalt属性が表示されるようになっています。サイトの大多数が画像で構成されている場合、表示できる情報が少ないです。</p>


<h3>操作に手間取る</h3>

<p>CUIブラウザはマウスではなくキーボードでの操作が前提として作られていることが多いので、キーボードでの操作に慣れていない方は操作に手間取ることがあります。もちろん場合によってはコマンドを入力することもあるのでコマンドも覚えておく必要があります。そのためパソコンの初心者の方には向いていません。</p>


<h2 id="chapter4">Lynxについての紹介</h2>

<div class="img-center"><img src="/images/20181004001.jpg" alt="Windows10で動作するLynx" /></div>

<p>Lynxは多くのUnixやLinux、WindowsやMacOSなどで動作するクロスプラットフォームのCUIブラウザです。他のCUIブラウザと同様に操作はキーボードで行うことを前提に作られています。画像を表示できず、テーブルやフレームなどに対応していないというデメリットがあるものの、基本的な操作方法が画面の下部に表示されているのでCUIブラウザの初心者の方であっても簡単に操作できます。</p>

<p>以上のことから初めてCUIブラウザを触ってみたい方にはおすすめできます。慣れたら次の項目で紹介するw3mをインストールしてみましょう。</p>

<p>UbuntuでLynxをインストールするコマンドは以下のとおりです。</p>

<pre><code>sudo apt install lynx</code></pre>

<p>Lynxを起動させるためには、以下のコマンドを入力します。</p>

<pre><code>lynx [オプション] [URLまたはファイルパス] </code></pre>

<p>[オプション]と[URLまたはファイルパス]は省略可能です。そのままlynxコマンドを実行するとLynxのスタートページが表示されます。ここからでもgキーを押せば[URLまたはファイルパス]にジャンプ可能です。</p>


<h3>Lynxの操作方法</h3>

<p>Lynxの操作方法は画面の下部に基本操作が書かれているので簡単です。まとめると以下のようになります。</p>

<table>
<thead>
<tr>
<th>操作</th><th>効果</th>
</tr>
</thead>
<tbody>
<tr>
<th>←</th><th>戻る</th>
</tr>
<tr>
<th>→（Enter）</th><th>選択しているリンクにアクセス</th>
</tr>
<tr>
<th>↑</th><th>前のリンクを選択</th>
</tr>
<tr>
<th>↓</th><th>次のリンクを選択</th>
</tr>
<tr>
<th>g</th><th>URLを入力して移動</th>
</tr>
<tr>
<th>o</th><th>Lynxの設定画面に入る</th>
</tr>
<tr>
<th>Q</th><th>終了する</th>
</tr>
<tr>
<th>d</th><th>選択したファイルのダウンロード</th>
</tr>
<tr>
<th>BackSpace</th><th>履歴を見る</th>
</tr>
<tr>
<th>/</th><th>ページ内検索</th>
</tr>
<tr>
<th>Ctrl+r</th><th>更新</th>
</tr>
<tr>
<th>Ctrl+g</th><th>キャンセル</th>
</tr>
<tr>
<th>Ctrl+w</th><th>クリップボードを貼り付け</th>
</tr>
<tr>
<th>!</th><th>OSのシェルを起動する</th>
</tr>
</tbody>
</table>

<p>ページ内の閲覧はカーソルキーの↑と↓を使用していれば問題はありません。次のページにリンクが存在しない場合はページ送りになるだけです。カーソルキーの←は戻る機能ですが、逆の→は進むではありません。選択したリンクにアクセスする意味を持っているので間違えないようにしましょう。</p>

<p>なんらかの無限ループに陥ってしまった場合はGtrl+gを押して、一旦キャンセルすると良いです。シェルのCtrl+cとほぼ同じ意味があります。なにもないときにCtrl+gを押すと、ヘルプのアクセス方法などが表示されます。</p>

<p>Windows版のLynxでは日本語を入力することが非常に難しいです。Lynxでグーグル検索などを行うときに直接2バイト文字を入力すると異常終了してしまいます。そのため、適当なテキストエディタなどを起動して検索したい文字列を入力し、その文字列を選択してクリップボードにコピーした後、Lynxに戻ってCtrl+wでペーストすると良いでしょう。なおUbuntuでは、直接日本語入力が可能ですが文字コードに変換されてしまうので、目当ての文字列で検索することができません。その場合は後述のw3mを活用すると良いでしょう。</p>

<p>指定したリンクをダウンロードするdキーは、Windows版の場合は管理者権限が必要なProgram Filesに保存されるようになっているので、パスを指定しないとダウンロードできない点に注意しましょう。Ubuntuの場合は、ホームディレクトリに保管されるようになっています。HTMLファイルを保存するときには、Lynxで表現できるCSSの範囲内で保存されます。LynxでLinuxディストリビューションのイメージファイルをダウンロードすることもできました。</p>

<p>その他の機能や詳しい操作方法については設定[o]やヘルプ画面[?]からアクセスすると良いです。英語の情報がほとんどですが、日本語でもわかりやすく解説されているのでCUIブラウザにしては使い勝手が良好です。</p>


<h2 id="chapter5">w3mについての紹介</h2>


<div class="img-center"><img src="/images/20181004002.jpg" alt="ubuntuの端末上で動作するw3m" /></div>

<p>w3mは画像が表示できるCUIブラウザです。Lynxとは違って、テーブルやフレームの描写に対応しており、CUIブラウザであるにも関わらずタブブラウジングが可能です。もちろんLynxと同様に日本語の表示もできます。設定項目は多岐にわたっており、マウスを使用するように設定することもできます。端末上でも動作できますが、Emacs上で起動することも可能です。ただし、w3mではUnixやLinux系OSで動かすことを前提として作られているので、Windowsで起動させたい場合はCygwinというターミナルツールをインストールしておく必要があります。</p>

<p>またw3mでは、Lynxではできない日本語入力までしっかりサポートされています。グーグル検索をしたいときには入力欄にカーソルを合わせてEnterで入力を開始できます。そこから2バイト文字を入力することで利用できるので便利です。日本語の検索を頻繁に行う予定であれば、Lynxよりもw3mを活用すると良いでしょう。</p>

<p>以上のことからLynxよりもw3mのほうがブラウザとしての使い勝手は良好と言えます。とは言え、Lynxとは違って端末の下部に基本的な操作方法が表示されていないので、操作方法をあらかじめ把握していないと多少手間取ります。</p>

<p>Ubuntuでw3mをインストールするコマンドは以下のとおりです。</p>

<pre><code>sudo apt install w3m</code></pre>

<p>w3mを起動するには以下のコマンドを入力します。</p>

<pre><code>w3m [オプション] [URLまたはファイルパス] </code></pre>

<p>[オプション]は省略可能ですが、w3mを起動するときには最低限[URLまたはファイルパス] を入力する必要があります。Lynxと違って、ただw3mとコマンドを入力するだけだとヘルプが表示されます。</p>

<h3>w3mの操作方法</h3>

<p>w3mの操作方法はLynxと違って画面の下部に表示されていないので覚えておく必要があります。まとめると以下のようになります。</p>

<table>
<thead>
<tr>
<th>操作</th><th>効果</th>
</tr>
</thead>
<tbody>
<tr>
<th>H</th><th>ヘルプに行く</th>
</tr>
<tr>
<th>←（h）</th><th>左にカーソルを移動</th>
</tr>
<tr>
<th>→（l）</th><th>右にカーソルを移動</th>
</tr>
<tr>
<th>↑（k）</th><th>上にカーソルを移動</th>
</tr>
<tr>
<th>↓（j）</th><th>下にカーソルを移動</th>
</tr>
<tr>
<th>U</th><th>URLを入力して移動</th>
</tr>
<tr>
<th>Enter</th><th>選択しているリンクにアクセス</th>
</tr>
<tr>
<th>B</th><th>戻る</th>
</tr>
<tr>
<th>Q</th><th>終了する</th>
</tr>
<tr>
<th>a</th><th>選択したファイルをダウンロードする</th>
</tr>
<tr>
<th>/</th><th>前方検索（正規表現使用可能）</th>
</tr>
<tr>
<th>?</th><th>後方検索（正規表現使用可能）</th>
</tr>
<tr>
<th>!</th><th>OSのシェルを起動する</th>
</tr>
<tr>
<th>[数字]G</th><th>ページの[数字]行目に移動する、省略すると末尾</th>
</tr>
</tbody>
</table>

<p>w3mではマウスも使用できるのでマウスホイールで快適にブラウジングができます。右クリックを押せば基本操作のメニューが表示されます。操作方法で困った時はHを押すことでヘルプ画面を表示できます。日本語で表示されているので英語が苦手な方でも安心です。</p>

<p>基本的な操作はほとんどLynxと同じですが、Lynxとは違ってカーソルの概念があるのでカーソルキーの操作に戸惑うかもしれません。しかしマウスを活用すればリンクのアクセスやページのスクロールなども簡単にできるのでコマンドを覚えてしまえば簡単です。</p>

<p>カーソル移動や検索に加え、特定の行番号にジャンプするなど操作感はvimによく似ています。もちろんブックマークを記録する機能や、新しいタブを表示する機能などブラウザとしての基本の機能は装備されています。</p>

<p>選択したファイルをダウンロードする場合はaキーを押せば始まります。Lynxと同じようにホームディレクトリに保管されます。</p>


<h2 id="chapter6">結論</h2>

<p>まとめると、CUIブラウザは一般的なブラウザとは違って非常に軽量で動作するので、限定された環境下で利用すると非常に便利でしょう。特に古いパソコンでインターネットに接続する場合やネットワーク使用量の上限が気になる場合、避難生活を余儀なくされている場合であれば、CUIブラウザを活用することで快適に情報収集できます。</p>

<p>この記事で紹介したLynxとw3mについては、どちらかお好きな方を利用すると良いですが、私の個人的な意見としてはw3mのほうがおすすめできます。日本語入力と表示が可能でテーブルやフレームの描写も正常に行われ、画像が表示できて、マウスも使える上にvimに操作が似ているからです。</p>


---
title: "【Django】ウェブアプリ側からサーバーの電源を落とせるようにする"
date: 2021-11-18T17:22:43+09:00
draft: true
thumbnail: "images/django.jpg"
categories: [ "サーバーサイド" ]
tags: [ "django","システム管理","上級者向け","crontab" ]
---

ディスプレイもない、キーボードもマウスも接続されていない、そういうサーバーの電源を落とすには、SSHでリモートログインしてshutdownコマンドを実行するか、あるいはcrontabで時間指定でshutdownを実行するしか無い。

つまり普通にやると、ターミナルを使うか、時限式にするしか術は無いのだ。直接サーバーの物理的な電源を触って落とすのは論外として、毎度毎度サーバーの電源を落とすたびにそういうことをするのは面倒だし使い勝手が悪いので、ウェブアプリ側からサーバーの電源を落とせるように細工を施す。


## 原理

crontabとDjangoの常駐スクリプトを使って、DBの値が変わったら即電源を落とすように仕立てる。

ウェブアプリ側がすることはデータの保存。故に作りは非常にシンプル。











## 結論

ちなみにこの方法はセキュリティなどが全く考慮されておらず、誰でも電源が落とせるようになっているので、本格的に運用するのであれば別途細工が必要。


